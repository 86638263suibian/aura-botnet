cmake_minimum_required (VERSION 2.6)
project (Aura)
add_definitions(-DAURA_VERSION="0.1.2")

set(BIN aura)
set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -O2 -g")
set(PICOSHA2_INCLUDE "${CMAKE_SOURCE_DIR}/deps/PicoSHA2/")
include_directories(${PICOSHA2_INCLUDE})

if(UNIX AND NOT APPLE)
    set(LIBS curl)
    add_definitions(-DCURL_STATICLIB)
    add_executable(${BIN} aura.cc aura.hh)
    target_link_libraries(${BIN} ${LIBS})
endif()

if(WIN32)
    set(LIBS urlmon wininet)
    add_definitions(-D_CRT_SECURE_NO_WARNINGS)
    add_executable(${BIN} aura.cc aura.hh)
    target_link_libraries(${BIN} ${LIBS})
endif()
